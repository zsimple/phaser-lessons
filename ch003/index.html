<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Phaser - 003</title>
	<script type="text/javascript" src="../libs/phaser.min.js"></script>
</head>
<body>

<script type="text/javascript">

var game = new Phaser.Game(400, 300, Phaser.AUTO, '', { preload: preload, create: create, update: update }, false, false);
var bridge;

function preload() {
	game.load.spritesheet('player', '../assets/player.png', 34, 34);
  game.load.image('shadow', '../assets/player-shadow.png');
  game.load.image('bridge', '../assets/bridge.png');
}

function create() {

  bridge = game.add.tileSprite(0, 0, game.width, 128, 'bridge');

	var player = game.add.sprite(100, 70, 'player');
	player.animations.add('walk', [3, 4, 5, 4], 4, true);
	player.animations.play('walk');
  player.addChild(game.make.sprite(0, 24, 'shadow'));

  player = game.add.sprite(200, 70);
  player.addChild(game.make.sprite(0, 24, 'shadow'));
  var true_player = player.addChild(game.make.sprite(0, 0, 'player'));
  true_player.animations.add('walk', [3, 4, 5, 4], 4, true);
  true_player.animations.play('walk');
}

function update() {
  bridge.tilePosition.x += 1;
}

</script>

</body>
</html>
